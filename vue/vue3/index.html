<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>vue3 学习笔记 | Ghosie的博客</title><meta name="keywords" content="javascript,vue3.0"><meta name="author" content="郭伟杰"><meta name="copyright" content="郭伟杰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="vue-cli 从 4.5.0 版本开始支持 vue3.0vue-router 从 4.0 版本开始支持 vue3.0vuex 从 4.0 版本开始支持 vue3.0。其API与3.x基本相同。唯一的突破性变化是插件的安装方式  新增特性 Composition（组合）API setup ref 和 reactive computed 和 watch 新的生命周期函数 provide 与 inj">
<meta property="og:type" content="article">
<meta property="og:title" content="vue3 学习笔记">
<meta property="og:url" content="https://keep-silence.com/vue/vue3/index.html">
<meta property="og:site_name" content="Ghosie的博客">
<meta property="og:description" content="vue-cli 从 4.5.0 版本开始支持 vue3.0vue-router 从 4.0 版本开始支持 vue3.0vuex 从 4.0 版本开始支持 vue3.0。其API与3.x基本相同。唯一的突破性变化是插件的安装方式  新增特性 Composition（组合）API setup ref 和 reactive computed 和 watch 新的生命周期函数 provide 与 inj">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://edge-labo.com/wp-content/uploads/2021/09/image1.png">
<meta property="article:published_time" content="2021-06-04T00:55:42.000Z">
<meta property="article:modified_time" content="2023-07-13T02:55:19.000Z">
<meta property="article:author" content="郭伟杰">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="vue3.0">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://edge-labo.com/wp-content/uploads/2021/09/image1.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://keep-silence.com/vue/vue3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'vue3 学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-13 10:55:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/myHtml/on2job.html"><i class="fa-fw fas fa-gamepad"></i><span> 摸鱼</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://win11.keep-silence.com"><i class="fa-fw fab fa-windows"></i><span> win11</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img.php.cn/upload/article/000/000/024/5fb4c6945cc8d805.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Ghosie的博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/myHtml/on2job.html"><i class="fa-fw fas fa-gamepad"></i><span> 摸鱼</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://win11.keep-silence.com"><i class="fa-fw fab fa-windows"></i><span> win11</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">vue3 学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-06-04T00:55:42.000Z" title="发表于 2021-06-04 08:55:42">2021-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-13T02:55:19.000Z" title="更新于 2023-07-13 10:55:19">2023-07-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue/">vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="vue3 学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>vue-cli 从 4.5.0 版本开始支持 vue3.0<br>vue-router 从 4.0 版本开始支持 vue3.0<br>vuex 从 4.0 版本开始支持 vue3.0。其API与3.x基本相同。唯一的突破性变化是<code>插件的安装方式</code></p>
</blockquote>
<h2 id="新增特性"><a href="#新增特性" class="headerlink" title="新增特性"></a>新增特性</h2><ul>
<li>Composition（组合）API</li>
<li>setup<ul>
<li>ref 和 reactive</li>
<li>computed 和 watch</li>
<li>新的生命周期函数</li>
<li>provide 与 inject</li>
<li>…</li>
</ul>
</li>
<li>新组件<ul>
<li>Fragment - 文档碎片</li>
<li>Teleport - 瞬移组件的位置</li>
<li>Suspense - 异步加载组件的 loading 界面</li>
</ul>
</li>
<li>其它 API 更新<ul>
<li>全局 API 的修改</li>
<li>将原来的全局 API 转移到应用列表</li>
<li>模板语法变化</li>
</ul>
</li>
</ul>
<h2 id="小改动"><a href="#小改动" class="headerlink" title="小改动"></a>小改动</h2><ul>
<li><code>destroyed</code> 生命周期选项被重命名为<code>unmounted</code></li>
<li><code>beforeDestroy</code> 生命周期选项被重命名为<code>beforeUnmount</code></li>
<li>prop <code>default</code> 工厂函数不再有权访问<code>this</code>是上下文</li>
<li>自定义指令API已更改为与组件生命周期一致</li>
<li><code>data</code> 应始终声明为函数</li>
<li>来自 mixin 的 <code>data</code> 选项现在可简单地合并</li>
<li>attribute 强制策略已更改</li>
<li>一些过度 class 被重命名</li>
<li>组建 watch 选项和实例方法 <code>$watch</code> 不再支持以点分割的字符串路径。请改用计算属性函数作为参数</li>
<li><code>&lt;template&gt;</code> 没有特殊指令的标记（<code>v-if / else、v-for 或 v-slot</code>）现在被视为普通元素，并将生成原生的 <code>&lt;template&gt;</code> 元素，而不是渲染其内部内容</li>
<li>应用根容器本身不再被视为模板的一部分</li>
</ul>
<h1 id="组合式API"><a href="#组合式API" class="headerlink" title="组合式API"></a>组合式API</h1><h2 id="组合式API基础"><a href="#组合式API基础" class="headerlink" title="组合式API基础"></a>组合式API基础</h2><h3 id="setup-组件选项"><a href="#setup-组件选项" class="headerlink" title="setup 组件选项"></a><code>setup</code> 组件选项</h3><blockquote>
<p><code>setup</code> 在创建组件实例之前执行。所以 <code>setup</code> 中没有 <code>this</code>，除 <code>props</code> 外，无法访问组件中声明的任何属性 —— <strong>本地状态</strong>、<strong>计算属性</strong>或<strong>方法</strong></p>
</blockquote>
<p><code>setup</code> 选项是一个接受 <code>props</code> 和 <code>context</code> 的函数，该函数返回的所有内容都将暴露给组件的其余部分（计算属性、方法、生命周期钩子等）以及组件的模板</p>
<h4 id="Props"><a href="#Props" class="headerlink" title="Props"></a>Props</h4><p><code>setup</code> 函数中的 <code>props</code> 是响应式的。<strong>不能使用ES6解构</strong>，否则它会消除 props 的响应性。<br>如果需要解构 prop，可以通过使用 <code>setup</code> 函数中的 <code>toRefs</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; toRefs &#125; from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line">setup(props)&#123;</span><br><span class="line">    const &#123; title &#125; &#x3D; toRefs(props)</span><br><span class="line">    console.log(title.value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="上下文"><a href="#上下文" class="headerlink" title="上下文"></a>上下文</h4><p>传递给 <code>setup</code> 函数的第二个参数是 <code>context</code>。<code>context</code> 是一个普通的 JavaScript 对象，它暴露三个组件的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    setup(props,context) &#123;</span><br><span class="line">        &#x2F;&#x2F; Attribute (非响应式对象)</span><br><span class="line">        console.log(context.attrs)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 插槽 (非响应式对象)</span><br><span class="line">        console.log(context.slots)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 触发事件（方法）</span><br><span class="line">        console.log(context.emit)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>context</code> 是一个普通的 JavaScript 对象，它不是响应式的，所以可以使用ES6解构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    setup(props,&#123;attrs,slots,emit&#125;)&#123;</span><br><span class="line">        ……</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="带-ref-的响应式变量"><a href="#带-ref-的响应式变量" class="headerlink" title="带 ref 的响应式变量"></a>带 <code>ref</code> 的响应式变量</h3><p>可以通过一个新的 <code>ref</code> 函数使任何响应式变量在任何地方起作用</p>
<p><code>ref</code> 接受参数并返回它包装在具有 value 属性的对象中，然后可以使用该属性访问或更改响应式变量的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line">const counter &#x3D; ref(0)</span><br><span class="line"></span><br><span class="line">console.log(counter) &#x2F;&#x2F;&#x3D;&gt; &#123; value: 0 &#125;</span><br><span class="line">console.log(counter.value) &#x2F;&#x2F;&#x3D;&gt; 0</span><br><span class="line"></span><br><span class="line">counter.value++</span><br><span class="line">console.log(counter.value) &#x2F;&#x2F;&#x3D;&gt; 1</span><br></pre></td></tr></table></figure>

<p><code>ref</code> 和 <code>toRef</code> 的区别<br>1、 ref 本质是拷贝，修改响应式数据不会影响原始数据；toRef 的本质是引用关系，修改响应式数据会影响原始数据<br>2、 ref 的数据发生改变，界面会自动更新；toRef 当数据发生改变时，界面不会自动更新<br>3、 toRef 传参与 ref 不同。toRef 接受两个参数，第一个参数是对象，第二个参数是对象的某个属性。如果要遍历对象上的所有属性，可以使用 toRefs</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.penjee.com/wp-content/uploads/2015/02/pass-by-reference-vs-pass-by-value-animation.gif" alt="引用传递与值传递"></p>
<h3 id="生命周期钩子注册内部-setup"><a href="#生命周期钩子注册内部-setup" class="headerlink" title="生命周期钩子注册内部 setup"></a>生命周期钩子注册内部 <code>setup</code></h3><p>在 3.x，每个生命周期函数都要先导入才可以使用</p>
<p>组合式 API 上的生命周期钩子与选项式 API 的名称相同，但前缀为 <code>on</code>，即 <code>mounted</code> 看起来像 <code>onmounted</code></p>
<table>
<thead>
<tr>
<th align="center">2.x生命周期</th>
<th align="center">3.x生命周期</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">beforeCreate</td>
<td align="center">setup</td>
<td align="center">组件创建前执行</td>
</tr>
<tr>
<td align="center">created</td>
<td align="center">setup</td>
<td align="center">组件创建后执行</td>
</tr>
<tr>
<td align="center">beforeMount</td>
<td align="center">onBeforeMount</td>
<td align="center">组件挂载到节点之前执行</td>
</tr>
<tr>
<td align="center">mounted</td>
<td align="center">onMounted</td>
<td align="center">组件挂载完成后执行</td>
</tr>
<tr>
<td align="center">beforeUpdate</td>
<td align="center">onBeforeUpdate</td>
<td align="center">组件更新之前执行</td>
</tr>
<tr>
<td align="center">updated</td>
<td align="center">onUpdated</td>
<td align="center">组件更新完成后执行</td>
</tr>
<tr>
<td align="center">beforeDestroy</td>
<td align="center">onBeforeUnmount</td>
<td align="center">组件销毁之前执行</td>
</tr>
<tr>
<td align="center">destroyed</td>
<td align="center">onUnmounted</td>
<td align="center">组件卸载之后执行</td>
</tr>
<tr>
<td align="center">errorCaptured</td>
<td align="center">onErrorCaptured</td>
<td align="center">当捕获一个来自子孙组件的异常时激活的钩子函数</td>
</tr>
</tbody></table>
<p>被包含在 <code>&lt;keep-alive&gt;</code> 中的组件，会多出两个生命周期钩子函数</p>
<table>
<thead>
<tr>
<th align="center">2.x生命周期</th>
<th align="center">3.x生命周期</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">activated</td>
<td align="center">onActivated</td>
<td align="center">被激活时执行</td>
</tr>
<tr>
<td align="center">deactivated</td>
<td align="center">onDeactivated</td>
<td align="center">切换组件后，原组件消失前执行</td>
</tr>
</tbody></table>
<p>页面第一次进入的时候，钩子函数触发的顺序是 created -&gt; mounted -&gt; activated<br>页面退出的时候会触发 deactivated，当再次前进或者后退的时候只触发 activated</p>
<h1 id="响应式API"><a href="#响应式API" class="headerlink" title="响应式API"></a>响应式API</h1><h2 id="响应式基础API"><a href="#响应式基础API" class="headerlink" title="响应式基础API"></a>响应式基础API</h2><h3 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h3><p>返回 <code>对象</code> 的响应式副本。响应式转换是“深层”的。建议只使用响应式代理对象，避免依赖原始对象</p>
<ul>
<li>返回的代理不等于原始对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive &#125; from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line">setup()&#123;</span><br><span class="line">    const obj &#x3D; &#123;</span><br><span class="line">        name: 0,</span><br><span class="line">        psd: 0</span><br><span class="line">    &#125;</span><br><span class="line">    const userInfo &#x3D; reactive(obj)</span><br><span class="line">    console.log(uerInfo&#x3D;&#x3D;&#x3D;obj) &#x2F;&#x2F;-&gt; false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>修改响应式对象，原始对象也会跟着修改，同时视图更新；修改原始对象，响应式对象也会跟着修改，但是视图不会更新</li>
</ul>
<h3 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h3><h3 id="isProxy"><a href="#isProxy" class="headerlink" title="isProxy"></a>isProxy</h3><h3 id="isReactive"><a href="#isReactive" class="headerlink" title="isReactive"></a>isReactive</h3><h3 id="isReadonly"><a href="#isReadonly" class="headerlink" title="isReadonly"></a>isReadonly</h3><h3 id="toRaw"><a href="#toRaw" class="headerlink" title="toRaw"></a>toRaw</h3><h3 id="markRaw"><a href="#markRaw" class="headerlink" title="markRaw"></a>markRaw</h3><h3 id="shallowReactive"><a href="#shallowReactive" class="headerlink" title="shallowReactive"></a>shallowReactive</h3><h3 id="shallowReadonly"><a href="#shallowReadonly" class="headerlink" title="shallowReadonly"></a>shallowReadonly</h3><h2 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h2><h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><p>接受一个 <code>基本数据类型</code> 的值并返回一个响应式且可变的 ref 对象，响应式对象的值通过 <code>.value</code> 获取。DOM可以直接写变量获取，不需要写 .value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;el-button @click&#x3D;&quot;clickMe&quot;&gt;点我&lt;&#x2F;el-button&gt;</span><br><span class="line"></span><br><span class="line">import &#123; ref &#125; from &#39;vue&#39;</span><br><span class="line">setup()&#123;</span><br><span class="line">    const count&#x3D;ref(0)</span><br><span class="line">    console.log(count.value) &#x2F;&#x2F;&#x3D;&gt; 0</span><br><span class="line">    const clickMe&#x3D;()&#x3D;&gt;&#123;</span><br><span class="line">        count.value++</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        count,</span><br><span class="line">        clickMe</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="unref"><a href="#unref" class="headerlink" title="unref"></a>unref</h3><h3 id="toRef"><a href="#toRef" class="headerlink" title="toRef"></a>toRef</h3><p>用来为<code>响应式对象</code>上的属性创建 <code>ref</code> ，然后可以将 ref 传递出去，从而保持对源属性的响应式连接。<br>为普通对象的属性使用 toRef，也会为该属性创建 ref ，但是修改值得话视图不会更新，普通对象和 ref 的值会同步更改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const state &#x3D; reactive(&#123;count: 1&#125;)</span><br><span class="line">const refState &#x3D; toRef(state,&#39;count&#39;)</span><br><span class="line"></span><br><span class="line">refState.value++</span><br><span class="line">console.log(state.count) &#x2F;&#x2F;&#x3D;&gt; 2</span><br><span class="line"></span><br><span class="line">state.foo++</span><br><span class="line">console.log(fooRef.value) &#x2F;&#x2F;&#x3D;&gt; 3</span><br></pre></td></tr></table></figure>

<h3 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h3><p>解决 toRef 为<code>响应式对象</code>上的多个属性创建 ref 时代码高耦合的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const state &#x3D; reactive(&#123;</span><br><span class="line">    foo:1,</span><br><span class="line">    bar:2</span><br><span class="line">&#125;)</span><br><span class="line">const stateAsRefs &#x3D; toRefs(state)</span><br><span class="line"></span><br><span class="line">state.foo++</span><br><span class="line">console.log(stateAsRefs.foo.value) &#x2F;&#x2F;&#x3D;&gt; 2</span><br><span class="line"></span><br><span class="line">stateAsRefs.foo.value++</span><br><span class="line">console.log(state.foo) &#x2F;&#x2F;&#x3D;&gt; 3</span><br></pre></td></tr></table></figure>

<p>解决响应式对象解构时，丢失响应性的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function userData()&#123;</span><br><span class="line">    const state&#x3D;reactive(&#123;</span><br><span class="line">        foo:1,</span><br><span class="line">        bar:2</span><br><span class="line">    &#125;)</span><br><span class="line">    ……</span><br><span class="line">    return toRefs(state)</span><br><span class="line">&#125;</span><br><span class="line">export default&#123;</span><br><span class="line">    setup()&#123;</span><br><span class="line">        const &#123;foo,bar&#125; &#x3D; userData()</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        foo,</span><br><span class="line">        bar</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="isRef"><a href="#isRef" class="headerlink" title="isRef"></a>isRef</h3><h3 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h3><h3 id="shallowRef"><a href="#shallowRef" class="headerlink" title="shallowRef"></a>shallowRef</h3><h3 id="triggerRef"><a href="#triggerRef" class="headerlink" title="triggerRef"></a>triggerRef</h3><h2 id="Computed-与-watch"><a href="#Computed-与-watch" class="headerlink" title="Computed 与 watch"></a>Computed 与 watch</h2><h3 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h3><p>接受 getter 函数并为 getter 返回的值返回一个不可变的响应式 ref 对象</p>
<h3 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h3><blockquote>
<p>什么是纯函数？<br>&emsp;1、始终返回相同的值。不管调用该函数多少次，相同的输入都要有相同的输出<br>&emsp;2、不应修改程序的状态或引起副作用<br>什么是副作用？<br>&emsp;如果有一个函数在输入和输出之外还做了其他的事情，那么这个函数额外做的事情就被成为副作用<br>VUE 中的副作用？<br>&emsp;响应式数据变更造成的其他连锁反应，以及后续逻辑，这些连锁反应都叫副作用</p>
</blockquote>
<p>在监听依赖时立即运行一个函数，并且在依赖更改时重新运行它</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const count &#x3D; ref(0)</span><br><span class="line">const effect &#x3D; () &#x3D;&gt; console.log(count.value)</span><br><span class="line">watchEffect(effect)</span><br><span class="line"></span><br><span class="line">setTimeout(()&#x3D;&gt;count.value++,200)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 输出结果</span><br><span class="line">0</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="停止侦听"><a href="#停止侦听" class="headerlink" title="停止侦听"></a>停止侦听</h4><p>1、组件卸载时自动停止<br>2、将 watchEffevt 赋值给一个变量，执行这个变量即可手动停止</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const stop &#x3D; watchEffect(()&#x3D;&gt;&#123;</span><br><span class="line">    ………</span><br><span class="line">&#125;)</span><br><span class="line">stop()</span><br></pre></td></tr></table></figure>

<h4 id="清除副作用"><a href="#清除副作用" class="headerlink" title="清除副作用"></a>清除副作用</h4><p><code>onInvalidate</code> 是 effect 函数传入的参数，是一个函数。用于清除 effect 产生的副作用，只作用于异步函数，并且只有在如下两种情况下才会被调用：<br>1、当 effect 函数被重新调用时<br>2、当监听器被注销时（如组件被卸载了）</p>
<h3 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h3><h4 id="侦听单个数据源"><a href="#侦听单个数据源" class="headerlink" title="侦听单个数据源"></a>侦听单个数据源</h4><p>侦听数据源可以是返回值的 getter函数，也可以直接是 ref</p>
<blockquote>
<p>如果直接侦听一个对象，两个参数获取的都是当前值，获取不到修改前的值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 侦听一个 getter</span><br><span class="line">const state &#x3D; reactive(&#123;count:0&#125;)</span><br><span class="line">watch(()&#x3D;&gt;state.count,(count,preCount)&#x3D;&gt;&#123; </span><br><span class="line">    &#x2F;&#x2F; count 为当前值，preCount为修改前的值</span><br><span class="line">    ……</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 直接侦听 ref</span><br><span class="line">const count &#x3D; ref(0)</span><br><span class="line">watch(count,(count,preCount)&#x3D;&gt;&#123;</span><br><span class="line">    ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="侦听多个源"><a href="#侦听多个源" class="headerlink" title="侦听多个源"></a>侦听多个源</h4><p>同侦听单个的方式，数据源为数组类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const count&#x3D;ref(0)</span><br><span class="line">const bbb&#x3D;ref(1)</span><br><span class="line">watch([count,bbb],([count,bbb],[preCount,preBbb])&#x3D;&gt;&#123;</span><br><span class="line">    ……</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const count &#x3D; reactive(&#123;aaa:1,bbb:2&#125;)</span><br><span class="line">watch(()&#x3D;&gt;[count.aaa,count.bbb],([aaa,bbb],[preAAA,preBBB])&#x3D;&gt;&#123;</span><br><span class="line">    ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="与-watchEffect-共享行为"><a href="#与-watchEffect-共享行为" class="headerlink" title="与 watchEffect 共享行为"></a>与 watchEffect 共享行为</h4><h1 id="lt-script-setup-gt"><a href="#lt-script-setup-gt" class="headerlink" title="&lt;script setup&gt;"></a><code>&lt;script setup&gt;</code></h1><blockquote>
<p><code>&lt;script setup&gt;</code>是在单文件组件 (SFC) 中使用 组合式API 的编译时语法糖</p>
</blockquote>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><p><strong>顶层的绑定会被暴露给模板</strong><br>任何在 <code>&lt;script setup&gt;</code> 声明的顶层的绑定（包括变量、函数声明和 import 引入的内容）都能在模板中直接使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="comment">// 导入</span></span><br><span class="line">    <span class="keyword">import</span> &#123; capitalize &#125; <span class="keyword">from</span> <span class="string">&#x27;./helpers</span></span><br><span class="line"><span class="string">    // 变量</span></span><br><span class="line"><span class="string">    const msg = &#x27;</span>hello<span class="string">&#x27;</span></span><br><span class="line"><span class="string">    // 函数</span></span><br><span class="line"><span class="string">    function log() &#123;</span></span><br><span class="line"><span class="string">        console.log(msg)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;template&gt;</span></span><br><span class="line"><span class="string">    &lt;div @click=&#x27;</span>log<span class="string">&#x27;&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&#123;&#123; capitalize(&#x27;</span>hello<span class="string">&#x27;) &#125;&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h2><p>响应式状态需要明确使用 响应式APIs 来创建。和从 <code>setup()</code> 函数中返回值一样，ref 值在模板中使用的时候会自动解包</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&#x27;count++&#x27;</span>&gt;&#123;&#123; count &#125;&#125;&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用组件"><a href="#使用组件" class="headerlink" title="使用组件"></a>使用组件</h2><p><code>&lt;script setup&gt;</code> 范围里的值也能被直接作为自定义组件的标签名使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    import MyComponent from &#39;.&#x2F;MyComponent.vue&#39;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;MyComponent &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h3><p>正常使用语法</p>
<h3 id="递归组件"><a href="#递归组件" class="headerlink" title="递归组件"></a>递归组件</h3><p>一个单文件组件可以通过它的文件名被其自己所引用。这种方法相比于 import 导入的组件优先级更低。如果有命名的 import 导入和组件的推断名冲突了，可以使用 import 别名导入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; FooBar as FooBarChild &#125; from &#39;.&#x2F;components&#39;</span><br></pre></td></tr></table></figure>

<h3 id="命名空间组件"><a href="#命名空间组件" class="headerlink" title="命名空间组件"></a>命名空间组件</h3><p>可以使用带点的组件标记，例如 <code>&lt;Foo.Bar&gt;</code> 来引用嵌套在对象属性中的组件。这在需要从单个文件中导入多个组件的时候非常有用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    import * as Form from &#39;.&#x2F;xxxxx&#39;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;Form.Input&gt;</span><br><span class="line">        &lt;Form.Label&gt;label&lt;&#x2F;Form.Label&gt;</span><br><span class="line">    &lt;&#x2F;Form.Input&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用自定义指令"><a href="#使用自定义指令" class="headerlink" title="使用自定义指令"></a>使用自定义指令</h2><p>全局注册的自定义指令将以符合预期的方式工作<br>本地注册的指令必须以 <code>vNameOfDirective</code> 的形式来命名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    const vMyDirective &#x3D; &#123;</span><br><span class="line">        beforeMount: (el) &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; 在元素上的操作</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h1 vMyDirective&gt;his is a Heading&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="defineProps-和-defineEmits"><a href="#defineProps-和-defineEmits" class="headerlink" title="defineProps 和 defineEmits"></a><code>defineProps</code> 和 <code>defineEmits</code></h2><p>在 <code>&lt;script setup&gt;</code> 中必须使用 <code>defineProps</code> 和 <code>defineEmits</code> API来声明 props 和 emits，它们具备完整的类型推断并且在 <code>&lt;script setup&gt;</code> 中是可以直接使用的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="keyword">const</span> props = defineProps(&#123;</span><br><span class="line">        foo: <span class="built_in">String</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> emit = defineEmits([<span class="string">&#x27;change&#x27;</span>,<span class="string">&#x27;delete&#x27;</span>])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>defineProps</code> 和 <code>defineEmits</code> 都是只在 <code>&lt;script setup&gt;</code> 中才能使用的<strong>编译器宏</strong>。它们不需要导入且会随着 <code>&lt;script setup&gt;</code> 处理过程一同被编译掉</li>
</ul>
<ul>
<li><code>defineProps</code> 接收与 props 选项相同的值，<code>defineEmits</code> 接收 emits 选项相同的值</li>
<li><code>defineProps</code> 和 <code>defineEmits</code> 在选项传入后，会提供恰当的类型推断</li>
<li>传入到 <code>defineProps</code> 和 <code>defineEmits</code> 的选项会从 setup 中提升到模块的范围。因此，传入的选项不能引用在 setup 范围中声明的局部变量，这样做会引起编译错误。但是，它可以引用导入的绑定，因为它们也在模块范围内</li>
</ul>
<h2 id="defineExpose"><a href="#defineExpose" class="headerlink" title="defineExpose"></a>defineExpose</h2><p>使用 <code>&lt;script setup&gt;</code> 的组件是默认关闭的，也即通过模板 ref 或者 $parent 链获取到的组件的公开实例，不会暴露任何在 <code>&lt;script setup&gt;</code> 中声明的绑定</p>
<p>可以使用 <code>defineExpose</code> 编译器宏去暴露 <code>&lt;script setup&gt;</code> 中的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    import &#123; ref &#125; from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line">    const a &#x3D; 1</span><br><span class="line">    const b &#x3D; ref(2)</span><br><span class="line"></span><br><span class="line">    defineExpose(&#123;</span><br><span class="line">        a,</span><br><span class="line">        b</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>当父组件通过模板 ref 的方式获取到当前组件的实例，获取到的实例会像这样 <code>&#123; a: number, b: number &#125;</code> （ref会和在普通实例中一样自动解包）</p>
<h2 id="useSlots-和-useAttrs"><a href="#useSlots-和-useAttrs" class="headerlink" title="useSlots 和 useAttrs"></a><code>useSlots</code> 和 <code>useAttrs</code></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="keyword">import</span> &#123; useSlots, useAttrs &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> slots = useSlots()</span><br><span class="line">    <span class="keyword">const</span> attrs = useAttrs()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>useSlots</code> 和 <code>useAttrs</code> 是真实地运行时函数，它会返回与 <code>setupContext.slots</code> 和 <code>setupContext.attrs</code> 等价的值，同样也能在普通的组合式 API 中使用、</p>
<h2 id="与普通的-lt-script-gt-一起使用"><a href="#与普通的-lt-script-gt-一起使用" class="headerlink" title="与普通的 &lt;script&gt; 一起使用"></a>与普通的 <code>&lt;script&gt;</code> 一起使用</h2><p><code>&lt;script setup&gt;</code> 可以和普通的 <code>&lt;script&gt;</code> 一起使用。普通的 <code>&lt;script&gt;</code> 在有这些需要的情况下或许会被使用到：</p>
<ul>
<li>无法在 <code>&lt;script setup&gt;</code> 声明的选项，例如 <code>inheritAttrs</code> 或通过插件启用的自定义的选项</li>
<li>声明命名导出</li>
<li>运行副作用或者创建只需要执行一次的对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 普通 &lt;script&gt;，在模块范围下执行（只执行一次）</span></span><br><span class="line">    runSideEffectOnce()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明额外的选项</span></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        inheritAttrs: <span class="literal">false</span>,</span><br><span class="line">        customOptions: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="comment">// 在 setup() 作用域中执行（对每个实例皆如此）</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="顶层-await"><a href="#顶层-await" class="headerlink" title="顶层 await"></a>顶层 <code>await</code></h2><p><code>&lt;script setup&gt;</code> 中可以使用顶层 <code>await</code>。结果代码会被编译成 <code>async setup()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    <span class="keyword">const</span> post = <span class="keyword">await</span> fetch(<span class="string">`/api/post/1`</span>).then(<span class="function"><span class="params">r</span>=&gt;</span>r.json())</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>await 的表达式会自动编译成在 <code>await</code> 之后保留当前组件实例上下文的格式</p>
<blockquote>
<p><code>async setup()</code> 必须与 <code>Suspense</code> 组合使用</p>
</blockquote>
<h2 id="限制：没有-src-导入"><a href="#限制：没有-src-导入" class="headerlink" title="限制：没有 src 导入"></a>限制：没有 src 导入</h2><p><code>&lt;script setup&gt;</code> 不能和 <code>src</code> 属性一起使用</p>
<h1 id="项目实战笔记"><a href="#项目实战笔记" class="headerlink" title="项目实战笔记"></a>项目实战笔记</h1><h2 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h2><h3 id="入口文件"><a href="#入口文件" class="headerlink" title="入口文件"></a>入口文件</h3><p><strong>回顾2.x</strong><br>2.0 在导入各种依赖之后，通过 <code>new Vue</code> 来执行初始化。相关的插件，有的使用 <code>Vue.use</code> 初始化，有的是作为 <code>new Vue</code> 的入参，如下图所示：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,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" alt="vue2.0初始化"></p>
<p><strong>3.x 方式</strong><br>3.x 是通过 <code>createApp</code> 来执行初始化，其他统一使用 <code>use</code> 来激活初始化<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,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" alt="3.x初始化方式"></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/vue3-0/">vue3.0</a></div><div class="post_share"><div class="social-share" data-image="https://edge-labo.com/wp-content/uploads/2021/09/image1.png" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://fastly.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/others/electric/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.hanzi5.com/assets/bishun/animation/7535-bishun.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">电力相关知识</div></div></a></div><div class="next-post pull-right"><a href="/html/storage/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horadecodar.com.br/wp-content/uploads/2020/06/Projetos14-768x644.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">本地存储的日常应用</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/javascript/gc4-10/" title="第十章 函数"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/function_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-30</div><div class="title">第十章 函数</div></div></a></div><div><a href="/javascript/gc4-11/" title="第十一章 Promise 与异步函数"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/top_default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-17</div><div class="title">第十一章 Promise 与异步函数</div></div></a></div><div><a href="/javascript/array/" title="Array 原型方法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/top_default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-24</div><div class="title">Array 原型方法</div></div></a></div><div><a href="/javascript/gc4-20/" title="第二十章 JavaScript API"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/javascriptApi_cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-04</div><div class="title">第二十章 JavaScript API</div></div></a></div><div><a href="/javascript/gc4-4/" title="第四章 变量、作用域与内存"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fnimg.ws.126.net%2F%3Furl%3Dhttp%253A%252F%252Fdingyue.ws.126.net%252F2021%252F1015%252F0f63ea96j00r10a7f000hc000hs00a0g.jpg%26thumbnail%3D650x2147483647%26quality%3D80%26type%3Djpg&refer=http%3A%2F%2Fnimg.ws.126.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642295342&t=1541235e44283cd50dc0888b18d1a3dc" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-15</div><div class="title">第四章 变量、作用域与内存</div></div></a></div><div><a href="/javascript/gc4-6/" title="第六章 集合引用类型"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://smnarnold.com/assets/page-previews/js.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-15</div><div class="title">第六章 集合引用类型</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">郭伟杰</div><div class="author-info__description">尽吾志也而不能至者，可以无悔矣</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/guo-weijie"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/guo-weijie" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:weijie.g@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">少壮不努力，老大徒伤悲 <br /> 君何必言利，亦有仁义焉 <br /> 一切古代史都是当代史 <br /> 每天进步一点点</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E7%89%B9%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">新增特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E6%94%B9%E5%8A%A8"><span class="toc-number">2.</span> <span class="toc-text">小改动</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI"><span class="toc-number"></span> <span class="toc-text">组合式API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">组合式API基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setup-%E7%BB%84%E4%BB%B6%E9%80%89%E9%A1%B9"><span class="toc-number">1.1.</span> <span class="toc-text">setup 组件选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Props"><span class="toc-number">1.1.1.</span> <span class="toc-text">Props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">1.1.2.</span> <span class="toc-text">上下文</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6-ref-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.</span> <span class="toc-text">带 ref 的响应式变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E6%B3%A8%E5%86%8C%E5%86%85%E9%83%A8-setup"><span class="toc-number">1.3.</span> <span class="toc-text">生命周期钩子注册内部 setup</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8FAPI"><span class="toc-number"></span> <span class="toc-text">响应式API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9F%BA%E7%A1%80API"><span class="toc-number">1.</span> <span class="toc-text">响应式基础API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#reactive"><span class="toc-number">1.1.</span> <span class="toc-text">reactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readonly"><span class="toc-number">1.2.</span> <span class="toc-text">readonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isProxy"><span class="toc-number">1.3.</span> <span class="toc-text">isProxy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isReactive"><span class="toc-number">1.4.</span> <span class="toc-text">isReactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isReadonly"><span class="toc-number">1.5.</span> <span class="toc-text">isReadonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toRaw"><span class="toc-number">1.6.</span> <span class="toc-text">toRaw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#markRaw"><span class="toc-number">1.7.</span> <span class="toc-text">markRaw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowReactive"><span class="toc-number">1.8.</span> <span class="toc-text">shallowReactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowReadonly"><span class="toc-number">1.9.</span> <span class="toc-text">shallowReadonly</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refs"><span class="toc-number">2.</span> <span class="toc-text">Refs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ref"><span class="toc-number">2.1.</span> <span class="toc-text">ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unref"><span class="toc-number">2.2.</span> <span class="toc-text">unref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toRef"><span class="toc-number">2.3.</span> <span class="toc-text">toRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toRefs"><span class="toc-number">2.4.</span> <span class="toc-text">toRefs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isRef"><span class="toc-number">2.5.</span> <span class="toc-text">isRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#customRef"><span class="toc-number">2.6.</span> <span class="toc-text">customRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowRef"><span class="toc-number">2.7.</span> <span class="toc-text">shallowRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#triggerRef"><span class="toc-number">2.8.</span> <span class="toc-text">triggerRef</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Computed-%E4%B8%8E-watch"><span class="toc-number">3.</span> <span class="toc-text">Computed 与 watch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#computed"><span class="toc-number">3.1.</span> <span class="toc-text">computed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watchEffect"><span class="toc-number">3.2.</span> <span class="toc-text">watchEffect</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E4%BE%A6%E5%90%AC"><span class="toc-number">3.2.1.</span> <span class="toc-text">停止侦听</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E5%89%AF%E4%BD%9C%E7%94%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">清除副作用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch"><span class="toc-number">3.3.</span> <span class="toc-text">watch</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%8D%95%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-number">3.3.1.</span> <span class="toc-text">侦听单个数据源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%A4%9A%E4%B8%AA%E6%BA%90"><span class="toc-number">3.3.2.</span> <span class="toc-text">侦听多个源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E-watchEffect-%E5%85%B1%E4%BA%AB%E8%A1%8C%E4%B8%BA"><span class="toc-number">3.3.3.</span> <span class="toc-text">与 watchEffect 共享行为</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lt-script-setup-gt"><span class="toc-number"></span> <span class="toc-text">&lt;script setup&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">响应式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">使用组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">动态组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">递归组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%BB%84%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">命名空间组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">使用自定义指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defineProps-%E5%92%8C-defineEmits"><span class="toc-number">5.</span> <span class="toc-text">defineProps 和 defineEmits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defineExpose"><span class="toc-number">6.</span> <span class="toc-text">defineExpose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useSlots-%E5%92%8C-useAttrs"><span class="toc-number">7.</span> <span class="toc-text">useSlots 和 useAttrs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E6%99%AE%E9%80%9A%E7%9A%84-lt-script-gt-%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8"><span class="toc-number">8.</span> <span class="toc-text">与普通的 &lt;script&gt; 一起使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E5%B1%82-await"><span class="toc-number">9.</span> <span class="toc-text">顶层 await</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%90%E5%88%B6%EF%BC%9A%E6%B2%A1%E6%9C%89-src-%E5%AF%BC%E5%85%A5"><span class="toc-number">10.</span> <span class="toc-text">限制：没有 src 导入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E7%AC%94%E8%AE%B0"><span class="toc-number"></span> <span class="toc-text">项目实战笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">项目初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">入口文件</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/others/nodejs/" title="电脑安装多版本nodejs"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/node_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="电脑安装多版本nodejs"/></a><div class="content"><a class="title" href="/others/nodejs/" title="电脑安装多版本nodejs">电脑安装多版本nodejs</a><time datetime="2023-07-23T00:54:59.741Z" title="更新于 2023-07-23 08:54:59">2023-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/javascript/array/" title="Array 原型方法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/top_default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Array 原型方法"/></a><div class="content"><a class="title" href="/javascript/array/" title="Array 原型方法">Array 原型方法</a><time datetime="2023-07-23T00:21:13.023Z" title="更新于 2023-07-23 08:21:13">2023-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/others/nodejsNote/" title="nodejs 学习笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/node_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nodejs 学习笔记"/></a><div class="content"><a class="title" href="/others/nodejsNote/" title="nodejs 学习笔记">nodejs 学习笔记</a><time datetime="2023-07-18T02:55:14.786Z" title="更新于 2023-07-18 10:55:14">2023-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/javascript/object/" title="Object 原型方法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/object_static_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Object 原型方法"/></a><div class="content"><a class="title" href="/javascript/object/" title="Object 原型方法">Object 原型方法</a><time datetime="2023-07-18T02:04:11.857Z" title="更新于 2023-07-18 10:04:11">2023-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/vue/vueLeakFilling/" title="vue知识点查漏补缺"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://edge-labo.com/wp-content/uploads/2021/09/image1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue知识点查漏补缺"/></a><div class="content"><a class="title" href="/vue/vueLeakFilling/" title="vue知识点查漏补缺">vue知识点查漏补缺</a><time datetime="2023-07-13T02:55:34.308Z" title="更新于 2023-07-13 10:55:34">2023-07-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 郭伟杰</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href='https://cn.keep-silence.com'>国内访问</a>  <a href='https://keep-silence.com'>国外访问</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://fastly.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://fastly.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://fastly.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '7b4f59d781f410b781cd',
      clientSecret: '9ec6c6aaee7eee19fd3a6b3ef0d3d2998a624e00',
      repo: 'ghosie',
      owner: 'guo-weijie',
      admin: ['guo-weijie'],
      id: '69bd193899634d8f31864add4e757a3e',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://fastly.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>